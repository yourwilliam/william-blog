---
layout: post
title: java经典基础————内部类
description: "java经典易出错的基础知识集合详解————内部类"
modified: 2012-12-05
category: articles
tags: [java,j2se]
comments: true
share: true
---

###内部类

内部类，4中内部类： 成员内部类、局部内部类、静态内部类、匿名内部类。

#####成员内部类：作为外部类的一个成员存在，与外部类的属性，方法并列。

* 成员内部类中不能定义静态变量，但可以访问外部类的所有成员
* 内部类作为外部类的成员，可以访问外部类的私有成员或属性
* 用内部类定义在外部类中不可访问的属性，这样就在外部类中实现了比外部类的private还要小的访问权限
* 内部类是一个编译时的概念，一档编译成功，就会成为完全不同的两个类，对于一个名为outer的外部类和其内部定义为Inner的内部类，出现outer.class和outer$inner.class两个类。
* 内部类中不允许定义静态变量
* 内部类中可以定义和外部类相同的变量
* 外部类的变量如果和内部类的变量没有同名的，则可直接用变量名访问外部类的变量
* 如果同名的内部类中访问内部类自己的变量直接用变量名或this.，内部类访问外部类同名变量采用”外部类名.this.变量名“
* 内部类可直接访问外部类的静态方法
* 访问外部类的非静态方法，必须使用外部类的实例

实例
	
	Outer.this.outer_f2();
* 外部类非静态方法访问成员的内部类

实例

	Inner inner = new Inner();
	inner.inner_f1();

* 外部类静态方法访问成员内部类

实例

	Outer out = new Outer();
	Inner inner = out.new Inner();
	inner.inner_f1();


#####局部内部类：在方法中定义的内部类，与局部变量类似，在局部内部类前不加修饰符public或private，其范围为定义它的代码块

* 内部类中有和外部类同名的变量，访问内部类变量，直接使用或“this.变量名“。访问外部变量使用”外部类类名.this.变量名“
* 在类外不可直接生成局部内部类(保证局部内部类对外不可见)，要想使用局部内部类时需生成对象调用方法，在方法中才能调用其局部内部类，通过内部类和接口达到一个强制的弱耦合，用局部内部类来实现接口，并在方法中返回接口类型，使局部内部类不可见，屏蔽实现类的可见性。

#####静态内部类：静态内部类定义在类中，任何方法外，用static定义

* 静态内部类中可以定义静态或非静态成员
* 静态内部类可以用public、protected、private修饰
* 静态内部类只能访问外部类的静态成员、内部类、静态成员

例子：

	Inner.inner_i;
	Inner.inner_f1();

* 外部类访问内部类的非静态成员，实例化内部类即可

例子：

	Inner inner = new Inner();
	inner.inner_f2();

* 生成一个静态内部类不需要外部类成员，这是静态内部类和成员内部类的区别
* 静态内部类对象可直接生成`Outer.Inner in = new Outer.Inner()`

#####匿名内部类：一种特殊的局部内部类，通过匿名类实现接口

特点:

* 一个类用于继承其他类或是实现接口，并不需要增加额外的方法，只是对继承方法的实现或是覆盖。
* 只是为了获得一个对象实例，不需要知道其实际类型
* 类名没有意义，也就是不需要使用到
* 他是局部内部类，局部内部类所有限制都对其生效
* 匿名内部类是唯一一种无构造方法类
* 大部分匿名内部类都用于接口回调的
* 编译时由系统自动起名Out$1.class
* 如果一个对象编译时的类型是接口，那么其运行的类型为实现这个接口的类。

 








